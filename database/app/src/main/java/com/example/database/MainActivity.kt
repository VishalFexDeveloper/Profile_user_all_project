package com.example.databaseimport androidx.appcompat.app.AppCompatActivityimport android.os.Bundleimport android.view.Viewimport android.widget.Toastimport com.example.database.databinding.ActivityMainBindingimport com.google.firebase.Firebaseimport com.google.firebase.firestore.firestoreclass MainActivity : AppCompatActivity() {    private lateinit var binding: ActivityMainBinding    private  var db = Firebase.firestore    private lateinit var auth: Firebase    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main)        auth = FirebaseAuth.getInstance()        binding.saveBtn.setOnClickListener {            saveData()        }    }    private fun saveData(){        val userName = binding.userName.text.toString()        val userNumber = binding.userNumber.text.toString()        val userEmail = binding.userEmail.text.toString()        val userPassword = binding.userPassword.text.toString()        val user = auth.currentUser        if (user != null) {            val hashMap = hashMapOf(                "name" to userName,                "number" to userNumber, "email"                        to userEmail,                "password" to userPassword            )            if (userEmail.isBlank() && userName.isBlank() && userNumber.isBlank() && userPassword.isBlank() ){                Toast.makeText(this, "edit text blank", Toast.LENGTH_SHORT).show()                return            }else{                db.collection("user").document(user.uid).set(hashMap)                    .addOnSuccessListener {                        Toast.makeText(this, "Success save", Toast.LENGTH_SHORT).show()                        binding.userEmail.text.clear()                        binding.userPassword.text.clear()                        binding.userName.text.clear()                        binding.userNumber.text.clear()                        binding.progressBar.visibility = View.VISIBLE                    }                    .addOnFailureListener {                        Toast.makeText(this, " data Failure", Toast.LENGTH_SHORT).show()                    }            }        } else {            Toast.makeText(this, "User not authenticated", Toast.LENGTH_SHORT).show()        }    }}